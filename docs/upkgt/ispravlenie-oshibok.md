# Исправление ошибок

## Устранение неполадок UPKGT

### Содержание

1. Общие проблемы
2. Проблемы установки
3. Проблемы удаления
4. Проблемы обновления
5. Диагностика
6. Восстановление

### Общие проблемы

#### Ошибка запуска

```bash
# Проблема: UPKGT не запускается
# Решение:

# 1. Проверить права доступа
ls -l $(which upkgt)
sudo chmod +x /usr/local/bin/upkgt

# 2. Проверить конфигурацию
upkgt check config

# 3. Проверить системные требования
upkgt check system
```

#### Проблемы с правами

```bash
# Проблема: Недостаточно прав
# Решение:

# 1. Проверить текущего пользователя
whoami

# 2. Проверить группы
groups

# 3. Добавить пользователя в нужную группу
sudo usermod -aG upkgt $USER
```

#### Ошибки конфигурации

```bash
# Проблема: Неверная конфигурация
# Решение:

# 1. Проверить синтаксис
upkgt config verify

# 2. Восстановить конфигурацию по умолчанию
upkgt config reset

# 3. Проверить переменные окружения
env | grep UPKGT_
```

### Проблемы установки

#### Конфликты пакетов

```bash
# Проблема: Конфликт при установке
# Решение:

# 1. Проверить конфликты
upkgt check conflicts package.deb

# 2. Принудительная установка (если безопасно)
upkgt install --force package.deb

# 3. Установка альтернативной версии
upkgt install package=version
```

#### Проблемы зависимостей

```bash
# Проблема: Нарушенные зависимости
# Решение:

# 1. Проверить зависимости
upkgt check deps package.deb

# 2. Установить зависимости
upkgt install --with-deps package.deb

# 3. Исправить зависимости
upkgt fix-deps
```

#### Ошибки проверки

```bash
# Проблема: Ошибка проверки пакета
# Решение:

# 1. Проверить целостность
upkgt verify package.deb

# 2. Проверить подпись
upkgt verify --signature package.deb

# 3. Загрузить заново
upkgt download --fresh package.deb
```

### Проблемы удаления

#### Зависимые пакеты

```bash
# Проблема: Пакет требуется другими
# Решение:

# 1. Показать зависимые пакеты
upkgt list --depends-on package

# 2. Безопасное удаление
upkgt remove --safe package

# 3. Принудительное удаление
upkgt remove --force package
```

#### Остаточные файлы

```bash
# Проблема: Остались файлы после удаления
# Решение:

# 1. Очистить конфигурацию
upkgt remove --purge package

# 2. Найти остаточные файлы
upkgt find-orphans

# 3. Очистить систему
upkgt clean system
```

### Проблемы обновления

#### Ошибки репозитория

```bash
# Проблема: Недоступен репозиторий
# Решение:

# 1. Проверить доступность
upkgt check repo

# 2. Обновить список зеркал
upkgt update --mirrors

# 3. Выбрать другое зеркало
upkgt select-mirror
```

#### Ошибки загрузки

```bash
# Проблема: Ошибка при загрузке
# Решение:

# 1. Проверить соединение
upkgt check connection

# 2. Очистить кэш
upkgt clean cache

# 3. Повторить загрузку
upkgt download --retry package
```

### Диагностика

#### Проверка системы

```bash
# Полная диагностика
upkgt diagnostic

# Проверка компонентов
upkgt check all

# Тест производительности
upkgt benchmark
```

#### Логи

```bash
# Просмотр логов
upkgt logs show

# Просмотр ошибок
upkgt logs errors

# Экспорт логов
upkgt logs export > upkgt-logs.txt
```

### Восстановление

#### Резервные копии

```bash
# Восстановление из копии
upkgt backup restore

# Откат изменений
upkgt rollback

# Восстановление системы
upkgt repair system
```

#### Аварийное восстановление

```bash
# Проверка целостности БД
upkgt check database

# Восстановление БД
upkgt repair database

# Сброс настроек
upkgt reset --all
```

Примечания:

* Перед любыми опасными операциями создавайте резервную копию
* Проверяйте логи для получения подробной информации об ошибках
* При серьезных проблемах обращайтесь за помощью в репозиторий
